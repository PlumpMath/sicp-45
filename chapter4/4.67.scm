;One way to accomplish this would be, when a query pattern is unified with a rule conclusion, to maintain as part of the resulting frame the query pattern, along with the bindings of the variables within the query. (The pattern along with the variables can be thought as a snapshot) If during evaluation of the body of the rule we run into another query pattern requiring unification with a rule, before proceeding we check if this pattern is similar to the one we saved during the previous unification. If the patterns are the same, that is not a condition in itself to detect an entry to an infinite loop. We also have to check the values of the pattern variables in this frame against the ones passed as part of the previous unification. If the values of all the pattern variables in this frame are the same with the respective variables passed as part of the former unification, then we have definitely encountered an infinite loop condition and we abort. (if two variables being compared are both unbound they are considered equal) If however these conditions aren't fulfilled, the query pattern along with it's variables in this frame(another snapshot) are appended to the previous snapshot and are included as part of the output frame of the unification.
